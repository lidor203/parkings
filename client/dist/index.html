<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <title>Shalishut</title>
</head>
<body>
    <div id="screens">
        <div class="screen" id="login">
            <h2>התחברות</h2>
            <div class="formContent">
                <div class="inputDiv">
                    <label for="inputLoginId">:תז/מא</label>
                    <input type="text" class="textInput" id="inputLoginId" required value="1">
                </div>
                <div class="inputDiv">
                    <label for="inputLoginPassword">:סיסמה</label>
                    <input type="password" id="inputLoginPassword" required value="1">
                </div>
                <button id="loginButton">כניסה</button>
            </div>  
            <br>         
            <p>אין לך חשבון? <a class="gotoButton" id="toRegisterButton">להרשמה</a></p>
        </div>
        <div class="screen" id="register">
            <h2>הרשמה</h2>
            <div class="formContent">
                <div class="inputDiv">
                    <label for="inputRegisterId">:תז/מא</label>
                    <input type="text" class="textInput" id="inputRegisterId" required>
                </div>
                <div class="inputDiv">
                    <label for="inputRegisterName">:שם מלא</label>
                    <input type="text" class="textInput" id="inputRegisterName" required>
                </div>
                <div class="inputDiv">
                    <label for="inputRegisterPhone">:טלפון</label>
                    <input type="text" class="textInput" id="inputRegisterPhone" required>
                </div>
                <div class="inputDiv">
                    <label for="inputRegisterCarNumber">:מספר רכב</label>
                    <input type="text" class="textInput" id="inputRegisterCarNumber" required>
                </div>
                <div class="inputDiv">
                    <label for="inputRegisterLeaveTime">:זמן עזיבה משוער</label>
                    <input type="time" id="inputRegisterLeaveTime" required>
                </div>
                <div class="inputDiv">
                    <label for="inputRegisterPassword">:סיסמה</label>
                    <input type="text" class="textInput" id="inputRegisterPassword" required>
                </div>
                <button id="registerButton">הרשם</button>
            </div>
            <br>
            <p>כבר יש לך חשבון? <a class="gotoButton" id="toLoginButton">להתחברות</a></p>
        </div>
        <div class="screen" id="profile">
            <div class="details">
                <h2 id="name"></h2>
            </div>
            <div id="actions">
                <!-- actions will by dynamiclly append here according to the user role -->
            </div>
        </div>
        <div id="loader-circle" style="position: absolute;bottom: 5%; visibility: hidden; z-index: 3;" class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>
    <div id="dialogs">
        <div class="dialog" id="showJobsDialog">
            <h2>ניהול בעלי תפקידים</h2>
            <div class="autocomplete" style="width:300px;">
                <input type="text" class="textInput" id="myJobsInput" placeholder="הכנס שם או מספר תעודה מזהה">
            </div>
            <form method="dialog" autocomplete="off">
                <table id="jobsTable" class="table">
                </table>
                <button class="closeDialogButton">לסגירה</button>
            </form>
        </div>
        <div class="dialog" id="showNewJobDialog">
            <p>הוספת/עריכת בעל תפקיד</p>
            <h4>פרטי התפקידן:</h4>
            <div>
                <table>
                    <tr>
                        <td><label for="userIDForJob">תז/מא:</label></td>
                        <td><input type="text" class="textInput" id="userIDForJob" required></td>
                    </tr>
                    <tr>
                        <td><label for="userNameForJob">שם מלא:</label></td>
                        <td><input type="text" class="textInput" id="userNameForJob" readonly></td>
                    </tr>
                    <tr>
                        <td><label for="userPhoneForJob">טלפון:</label></td>
                        <td><input type="text" class="textInput" id="userPhoneForJob" readonly></td>
                    </tr>
                    <tr>
                        <td><label for="userRoleForJob">תפקיד:</label></td>
                        <td class="rolesInput">
                            <input list="" autocomplete="off" id="userRoleForJob" required>
                            <div class="roles hidden" id="rolesDatalistForJob"></div><br>
                        </td>                        
                    </tr>
                </table>
            </div>
            <div>
                <button id="showNewJobSubmitButton" class="submit">שגר בקשה</button>
                <button id="showNewJobCloseButton" class="closeDialogButton">לסגירה</button>
            </div>
        </div>
        <div class="dialog" id="showRolesDialog">
            <p>ניהול התפקידים במערכת</p>
            <div class="autocomplete" style="width:300px;">
                <input type="text" class="textInput" id="myRolesInput" placeholder="הכנס שם או מספר תעודה מזהה">
            </div>
            <form method="dialog" autocomplete="off">
                <table id="rolesTable" class="table">
                </table>
                <button class="closeDialogButton">לסגירה</button>
            </form>
        </div>
        <div class="dialog" id="showNewRoleDialog">
            <p>הוספת/עריכת תפקיד</p>
            <h4>פרטי התפקידים:</h4>
            <div>
                <table>
                    <tr>
                        <td><label for="roleIDForRole">מזהה תפקיד:</label></td>
                        <td><input type="text" class="textInput" id="roleIDForRole" readonly></td>
                    </tr>
                    <tr>
                        <td><label for="roleValueForRole">תיאור התפקיד:</label></td>
                        <td><input type="text" class="textInput" id="roleValueForRole" required></td>
                    </tr>
                </table>
            </div>
            <div>
                <button id="showNewRoleSubmitButton" class="submit">שגר בקשה</button>
                <button id="showNewRoleCloseButton" class="closeDialogButton">לסגירה</button>
            </div>
        </div>
        <div class="dialog" id="showUsersDialog">
            <h2>ניהול המשתמשים</h2>
            <div class="autocomplete" style="width:300px;">
                <input type="text" class="textInput" id="myUsersInput" placeholder="הכנס שם או מספר תעודה מזהה">
            </div>
            <form method="dialog" autocomplete="off">
                <table id="usersTable" class="table">
                </table>
                <button class="closeDialogButton">לסגירה</button>
            </form>
        </div>
        <div class="dialog" id="showNewUserDialog">
            <h2>הוספת/עריכת משתמש</h2>
            <h4>פרטי המשתמש:</h4>
            <div>
                <table>
                    <tr>
                        <td><label for="userIDForUsers">תז/מא:</label></td>
                        <td><input type="text" class="textInput" id="userIDForUsers" required></td>
                    </tr>
                    <tr>
                        <td><label for="userNameForUsers">שם מלא:</label></td>
                        <td><input type="text" class="textInput" id="userNameForUsers" required></td>
                    </tr>
                    <tr>
                        <td><label for="userPhoneForUsers">טלפון:</label></td>
                        <td><input type="text" class="textInput" id="userPhoneForUsers" required></td>
                    </tr>
                    <tr>
                        <td><label for="userTimeToAlertForUsers">זמן מועדף להתראה:</label></td>
                        <td><input type="text" class="textInput" id="userTimeToAlertForUsers" required></td>
                    </tr>
                    <tr>
                        <td><label for="userRoleForJob">תפקיד:</label></td>
                        <td class="rolesInput">
                            <input list="" autocomplete="off" id="userRoleForUsers" required>
                            <div class="roles hidden" id="rolesDatalistForUsers"></div>
                        </td>
                    </tr>
                </table>
            </div>
            <div>
                <button id="showNewUserSubmitButton" class="submit">שגר בקשה</button>
                <button id="showNewUserCloseButton" class="closeDialogButton">לסגירה</button>
            </div>
        </div>
        <div class="dialog" id="showBamDialog">
            <h2>ניהול ביטחון מידע</h2>
            <div class="autocomplete" style="width:300px;">
                <input type="text" class="textInput" id="myBamInput" placeholder="הכנס שם או מספר תעודה מזהה">
            </div>
            <form method="dialog" autocomplete="off">
                <table id="bamTable" class="table">
                </table>
                <button class="closeDialogButton">לסגירה</button>
            </form>
        </div>
        <div class="dialog" id="showNewBamDialog">
            <h2>הוספת/עריכת סיווג ביטחוני</h2>
            <h4>פרטי הסיווג הביטחוני של המשתמש:</h4>
            <div>
                <table>
                    <tr>
                        <td><label for="userIDForBam">מזהה המשתמש:</label></td>
                        <td><input type="text" class="textInput" id="userIDForBam" required></td>
                    </tr>
                    <tr>
                        <td><label for="userNameForBam">שם המשתמש:</label></td>
                        <td><input type="text" class="textInput" id="userNameForBam" required></td>
                    </tr>
                    <tr>
                        <td><label for="userStatusForBam">סיווג ביטחוני:</label></td>
                        <td><input type="text" class="textInput" id="userStatusForBam" required></td>
                    </tr>
                    <tr>
                        <td><label for="userValidDateForBam"> תאריך תפוגה סיווג ביטחוני:</label></td>
                        <td><input type="text" class="textInput" id="userValidDateForBam" required></td>
                    </tr>
                </table>
            </div>
            <div>
                <button id="showNewBamSubmitButton" class="submit">שגר בקשה</button>
                <button id="showNewBamCloseButton" class="closeDialogButton">לסגירה</button>
            </div>
        </div>
        <div class="dialog" id="showSecurityDialog">
            <h2>ניהול אבטחה</h2>
            <div class="autocomplete" style="width:300px;">
                <input type="text" class="textInput" id="mySecurityInput" placeholder="הכנס שם או מספר תעודה מזהה">
            </div>
            <form method="dialog" autocomplete="off">
                <table id="securityTable" class="table">
                </table>
                <button class="closeDialogButton">לסגירה</button>
            </form>
        </div>
        <div class="dialog" id="showNewSecurityDialog">
            <h2>הוספת/עריכת חסימה</h2>
            <h4>פרטי מנועי הכניסה:</h4>
            <div>
                <table>
                    <tr>
                        <td><label for="securityIDForSecurity">מזהה מנוע:</label></td>
                        <td><input type="text" class="textInput" id="securityIDForSecurity" required></td>
                    </tr>
                    <tr>
                        <td><label for="securityReasonForSecurity">סיבת המניעה:</label></td>
                        <td><input type="text" class="textInput" id="securityReasonForSecurity" required></td>
                    </tr>
                </table>
            </div>
            <div>
                <button id="showNewSecuritySubmitButton" class="submit">שגר בקשה</button>
                <button id="showNewSecurityCloseButton" class="closeDialogButton">לסגירה</button>
            </div>
        </div>
        <div class="dialog" id="showRequestsByHostIDDialog">
            <h2>ניהול בקשות כניסה</h2>
            <div class="autocomplete" style="width:300px;">
                <input type="text" class="textInput" id="myRequestsByHostIDInput" placeholder="הכנס שם או מספר תעודה מזהה">
            </div>
            <table id="requestsByHostIDTable" class="table">
            </table>
            <form method="dialog" autocomplete="off">
                <button id="showRequestsByHostIDCloseButton" class="closeDialogButton">לסגירה</button>
            </form>
        </div>
        <div class="dialog" id="showNewRequestDialog">
            <h2>הוספת/עריכת בקשת כניסה</h2>
            <h4>פרטי האדם עבורו<br>מבקשים את האישור:</h4>
            <div>
                <table>
                    <tr>
                        <td><label for="visitorName">שם מלא:</label></td>
                        <td><input type="text" class="textInput" id="visitorName" required></td>
                    </tr>
                    <tr>
                        <td><label for="visitorID">תז/מא:</label></td>
                        <td><input type="text" class="textInput" id="visitorID" required></td>
                    </tr>
                    <tr>
                        <td><label for="visitorPhone">טלפון:</label></td>
                        <td><input type="text" class="textInput" id="visitorPhone" required></td>
                    </tr>
                </table>
                <br>
            </div>
            <h4>פרטי המארח:</h4>
            <div>
                <table>
                    <tr>
                        <td><label for="hostID">תז/מא:</label></td>
                        <td><input type="text" class="textInput" id="hostID" required></td>
                    </tr>
                    <tr>
                        <td><label for="hostName">שם מלא:</label></td>
                        <td><input type="text" class="textInput" id="hostName" required></td>
                    </tr>
                    <tr>
                        <td><label for="hostPhone">טלפון:</label></td>
                        <td><input type="text" class="textInput" id="hostPhone" required></td>
                    </tr>
                </table>
            </div>
            <div>
                <button id="showNewRequestSubmitButton" class="submit">שגר בקשה</button>
                <button id="showNewRequestCloseButton" class="closeDialogButton">לסגירה</button>
            </div>
        </div>
        <div class="dialog" id="showRequestsDialog">
            <h2>ניהול בקשות כניסה</h2>
            <div class="autocomplete" style="width:300px;">
                <input type="text" class="textInput" id="myRequestsInput" placeholder="הכנס שם או מספר תעודה מזהה">
            </div>
            <table id="requestsTable" class="table">
            </table>
            <br>
            <form method="dialog" autocomplete="off">
                <button id="showRequestsCloseButton" class="closeDialogButton">לסגירה</button>
            </form>
        </div>
        <div class="dialog" id="showBlocksDialog">
            <h4>מי חסום על ידך:</h4>
            <table id="meBlockTable" class="table">
            </table>
            <br>
            <h4>מי חוסם אותך:</h4>
            <table id="blockMeTable" class="table">
            </table>
            <table id="blocksUserTable">  
                <tr>
                    <td><button id="leaveNowButton">צא עכשיו</button></td>
                    <td><button id="updateParkingDetailsButton">עדכן שעת יציאה</button></td>
                    <td><input type="time" id="leaveTime"></td>
                </tr>   
                <tr>
                    <td></td>
                    <td ><button id="showBlocksCloseButton" class="closeDialogButton">לסגירה</button></td>
                    <td></td>
                </tr>               
            </table> 
        </div>
        <div class="dialog" id="showNewBlockDialog">
            <h4>פרטי חסימה:</h4>
            <div>
                <table>
                    <tr>
                        <td><label for="blockerCarNumber">מספר רכב חוסם:</label></td>
                        <td><input type="text" class="textInput" id="blockerCarNumber" required></td>
                    </tr>
                    <tr>
                        <td><label for="blockedCarNumber">מספר רכב חסום:</label></td>
                        <td><input type="text" class="textInput" id="blockedCarNumber" required></td>
                    </tr>
                </table>
            </div>
            <div>
                <button id="showNewBlockSubmitButton" class="submit">הוסף חסימה</button>
                <button id="showNewBlockCloseButton" class="closeDialogButton">לסגירה</button>
            </div>
        </div>
    </div>
</body>
<script src="bundle.js"></script>
</html>