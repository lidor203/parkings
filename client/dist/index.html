<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <title>Shalishut</title>
</head>
<body background="tablet.jpg" style="background-repeat: no-repeat; background-position: center; min-height: 650px; z-index: 1;">
    <div id="loader-circle" style="position: fixed; left:48.7%; bottom: 20%; visibility: hidden; z-index: 3;" class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
    <div id="screens" style="position: absolute; top:10%; left: 42.5%; max-height: 70%; z-index: 2;">
        <div class="screen" id="login">
            <h2>התחברות</h2>
            <div class="formContent">
                <div class="inputDiv">
                    <label for="inputLoginId">:תז/מא</label>
                    <input type="text" autocomplete="off" class="textInput" id="inputLoginId" required value="305740185">
                </div>
                <button id="loginButton">כניסה</button>
            </div>  
            <br>         
            <p>אין לך חשבון? <a class="gotoButton" id="toRegisterButton">להרשמה</a></p>
        </div>
        <div class="screen" id="register">
            <h2>הרשמה</h2>
            <div class="formContent">
                <div class="inputDiv">
                    <label for="inputRegisterId">:תז/מא</label>
                    <input type="text" autocomplete="off" class="textInput" id="inputRegisterId" required>
                </div>
                <div class="inputDiv">
                    <label for="inputRegisterName">:שם מלא</label>
                    <input type="text" autocomplete="off" class="textInput" id="inputRegisterName" required>
                </div>
                <div class="inputDiv">
                    <label for="inputRegisterPhone">:טלפון</label>
                    <input type="text" autocomplete="off" class="textInput" id="inputRegisterPhone" dir="ltr" style="text-align:right" required>
                </div>
                <div class="inputDiv">
                    <label for="inputRegisterCarNumber">:מספר רכב</label>
                    <input type="text" autocomplete="off" class="textInput" id="inputRegisterCarNumber" required value="ללא">
                </div>
                <div class="inputDiv">
                    <label for="inputRegisterLeaveTime">:זמן עזיבה משוער</label>
                    <input type="time" id="inputRegisterLeaveTime" required>
                </div>
                <div class="inputDiv">
                    <label for="inputRegisterTimeToAlert">:התראה מראש (בדקות)</label>
                    <input type="text" autocomplete="off" id="inputRegisterTimeToAlert" required>
                </div>
                <button id="registerButton">הרשם</button>
            </div>
            <br>
            <p>כבר יש לך חשבון? <a class="gotoButton" id="toLoginButton">להתחברות</a></p>
        </div>
        <div class="screen" id="profile">
            <div class="details">
                <h2 id="name"></h2>
            </div>
            <div id="actions">
                <!-- actions will by dynamiclly append here according to the user role -->
            </div>
        </div>
    </div>
    <div id="dialogs" style="position: fixed; top:10%; left: 55%; max-height: 70%; z-index: 2;">
        <div class="dialog" id="showJobsDialog">
            <h2>ניהול בעלי תפקידים</h2>
            <div class="autocomplete" style="width:300px;">
                <input type="text" autocomplete="off" class="textInput" id="myJobsInput" placeholder="הכנס שם או מספר תעודה מזהה">
            </div>
            <form method="dialog" autocomplete="off">
                <table id="jobsTable" class="table">
                </table>
                <button class="closeDialogButton">סגירה</button>
            </form>
        </div>
        <div class="dialog" id="showRolesDialog">
            <p>ניהול התפקידים במערכת</p>
            <div class="autocomplete" style="width:300px;">
                <input type="text" autocomplete="off" class="textInput" id="myRolesInput" placeholder="הכנס שם או מספר תעודה מזהה">
            </div>
            <form method="dialog" autocomplete="off">
                <table id="rolesTable" class="table">
                </table>
                <button class="closeDialogButton">סגירה</button>
            </form>
        </div>
        <div class="dialog" id="showNewRoleDialog">
            <p>הוספת/עריכת תפקיד</p>
            <h4>פרטי התפקידים:</h4>
            <div>
                <table>
                    <tr>
                        <td><label for="roleIDForRole">מזהה תפקיד:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="roleIDForRole" readonly></td>
                    </tr>
                    <tr>
                        <td><label for="roleValueForRole">תיאור התפקיד:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="roleValueForRole" required></td>
                    </tr>
                    <tr><td><br></td></tr>
                    <tr>
                        <td><button id="showNewRoleSubmitButton" class="submit">שלח בקשה</button></td>
                        <td><button id="showNewRoleCloseButton" class="closeDialogButton">סגירה</button></td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="dialog" id="showUsersDialog">
            <h2>ניהול המשתמשים</h2>
            <div class="autocomplete" style="width:300px;">
                <input type="text" autocomplete="off" class="textInput" id="myUsersInput" placeholder="הכנס שם או מספר תעודה מזהה">
            </div>
            <form method="dialog" autocomplete="off">
                <table id="usersTable" class="table">
                </table>
                <button class="closeDialogButton">סגירה</button>
            </form>
        </div>
        <div class="dialog" id="showNewUserDialog">
            <h2>הוספת/עריכת משתמש</h2>
            <h4>פרטי המשתמש:</h4>
            <div>
                <table>
                    <tr>
                        <td><label for="userIDForUsers">תז/מא:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="userIDForUsers" required></td>
                    </tr>
                    <tr>
                        <td><label for="userNameForUsers">שם מלא:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="userNameForUsers" required></td>
                    </tr>
                    <tr>
                        <td><label for="userPhoneForUsers">טלפון:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="userPhoneForUsers" dir="ltr" style="text-align:right" required></td>
                    </tr>
                    <tr>
                        <td><label for="userCarNumberForUsers">מספר רכב:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="userCarNumberForUsers" required value="ללא"></td>
                    </tr>
                    <tr>
                        <td><label for="userTimeToAlertForMyUser">זמן עזיבה משוער:</label></td>
                        <td><input type="time" style="text-align: right; width: 100%" id="userLeaveTimeForUsers" required></td>
                    </tr>
                    <tr>
                        <td><label for="userTimeToAlertForUsers">כמה זמן מראש להתריע (בדקות):</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="userTimeToAlertForUsers" required></td>
                    </tr>
                    <tr>
                        <td><label for="userRoleForUsers">תפקיד:</label></td>
                        <td class="rolesInput">
                            <input list="" autocomplete="off" id="userRoleForUsers" required>
                            <div class="roles hidden" id="rolesDatalistForUsers"></div>
                        </td>
                    </tr>
                    <tr><td><br></td></tr>
                    <tr>
                        <td><button id="showNewUserCloseButton" class="closeDialogButton">סגירה</button></td>
                        <td><button id="showNewUserSubmitButton" class="submit">שלח בקשה</button></td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="dialog" id="showMyUserDialog">
            <h2>ניהול המשתמש שלי</h2>
            <form method="dialog" autocomplete="off">
                <table id="myUserTable" class="table">
                </table>
                <button class="closeDialogButton">סגירה</button>
            </form>
        </div>
        <div class="dialog" id="showNewMyUserDialog">
            <h2>עריכת המשתמש שלי</h2>
            <h4>פרטי המשתמש שלי:</h4>
            <div>
                <table>
                    <tr>
                        <td><label for="userIDForMyUser">תז/מא:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="userIDForMyUser" required readonly></td>
                    </tr>
                    <tr>
                        <td><label for="userNameForMyUser">שם מלא:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="userNameForMyUser" required></td>
                    </tr>
                    <tr>
                        <td><label for="userPhoneForMyUser">טלפון:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="userPhoneForMyUser" dir="ltr" style="text-align:right" required></td>
                    </tr>
                    <tr>
                        <td><label for="userCarNumberForMyUser">מספר רכב:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="userCarNumberForMyUser" required value="ללא"></td>
                    </tr>
                    <tr>
                        <td><label for="userTimeToAlertForMyUser">זמן עזיבה משוער:</label></td>
                        <td><input type="time" style="text-align: right; width: 100%" id="userLeaveTimeForMyUser" required></td>
                    </tr>
                    <tr>
                        <td><label for="userTimeToAlertForMyUser">כמה זמן מראש להתריע (בדקות):</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="userTimeToAlertForMyUser" required></td>
                    </tr>
                    <tr>
                        <td><label for="userRoleForMyUser">תפקיד:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="userRoleForMyUser" required readonly></td>
                    </tr>
                    <tr><td><br></td></tr>
                    <tr>
                        <td><button id="showNewMyUserCloseButton" class="closeDialogButton">סגירה</button></td>
                        <td><button id="showNewMyUserSubmitButton" class="submit">שלח בקשה</button></td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="dialog" id="showBamDialog">
            <h2>ניהול ביטחון מידע</h2>
            <div class="autocomplete" style="width:300px;">
                <input type="text" autocomplete="off" class="textInput" id="myBamInput" placeholder="הכנס שם או מספר תעודה מזהה">
            </div>
            <form method="dialog" autocomplete="off">
                <table id="bamTable" class="table">
                </table>
                <button class="closeDialogButton">סגירה</button>
            </form>
        </div>
        <div class="dialog" id="showNewBamDialog">
            <h2>הוספת/עריכת סיווג ביטחוני</h2>
            <h4>פרטי הסיווג הביטחוני של המשתמש:</h4>
            <div>
                <table>
                    <tr>
                        <td><label for="userIDForBam">מזהה המשתמש:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="userIDForBam" required></td>
                    </tr>
                    <tr>
                        <td><label for="userNameForBam">שם המשתמש:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="userNameForBam" required></td>
                    </tr>
                    <tr>
                        <td><label for="userStatusForBam">סיווג ביטחוני:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="userStatusForBam" required></td>
                    </tr>
                    <tr>
                        <td><label for="userValidDateForBam"> תאריך תפוגה סיווג ביטחוני:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="userValidDateForBam" required></td>
                    </tr>
                    <tr><td><br></td></tr>
                    <tr>
                        <td><button id="showNewBamCloseButton" class="closeDialogButton">סגירה</button></td>
                        <td><button id="showNewBamSubmitButton" class="submit">שלח בקשה</button></td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="dialog" id="showSecurityDialog">
            <h2>ניהול מנועי כניסה</h2>
            <div class="autocomplete" style="width:300px;">
                <input type="text" autocomplete="off" class="textInput" id="mySecurityInput" placeholder="הכנס שם או מספר תעודה מזהה">
            </div>
            <form method="dialog" autocomplete="off">
                <table id="securityTable" class="table">
                </table>
                <button class="closeDialogButton">סגירה</button>
            </form>
        </div>
        <div class="dialog" id="showNewSecurityDialog">
            <h2>הוספת/עריכת הערת אבטחה</h2>
            <h4>פרטי מנועי הכניסה:</h4>
            <div>
                <table>
                    <tr>
                        <td><label for="securityIDForSecurity">מזהה מנוע:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="securityIDForSecurity" required></td>
                    </tr>
                    <tr>
                        <td><label for="securityNameForSecurity">שם מנוע:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="securityNameForSecurity" required></td>
                    </tr>
                    <tr>
                        <td><label for="securityReasonForSecurity">סיבת המניעה:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="securityReasonForSecurity" required></td>
                    </tr>
                    <tr><td><br></td></tr>
                    <tr>
                        <td><button id="showNewSecurityCloseButton" class="closeDialogButton">סגירה</button></td>
                        <td><button id="showNewSecuritySubmitButton" class="submit">שלח בקשה</button></td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="dialog" id="showRequestsDialog">
            <h2>ניהול בקשות כניסה</h2>
            <div class="autocomplete" style="width:300px;">
                <input type="text" autocomplete="off" class="textInput" id="myRequestsInput" placeholder="הכנס שם או מספר תעודה מזהה">
            </div>
            <table id="requestsTable" class="table">
            </table>
            <br>
            <form method="dialog" autocomplete="off">
                <button id="showRequestsCloseButton" class="closeDialogButton">סגירה</button>
            </form>
        </div>
        <div class="dialog" id="showNewRequestDialog">
            <h2>הוספת/עריכת בקשת כניסה</h2>
            <div>
                <table>
                    <tr>
                        <td>
                            <h4>
                                פרטי האורח:
                            </h4>
                        </td>
                    </tr>
                    <tr>
                        <td><label for="visitorID">תז/מא:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="visitorID" required></td>
                    </tr>
                    <tr>
                        <td><label for="visitorName">שם מלא:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="visitorName" required></td>
                    </tr>
                    <tr>
                        <td><label for="visitorPhone">טלפון:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="visitorPhone" dir="ltr" style="text-align:right" required></td>
                    </tr>
                    <tr><td><br></td></tr>
                    <tr>
                        <td>
                            <h4>
                                פרטי המארח:                                
                            </h4>
                        </td>
                    </tr>
                    <tr>
                        <td><label for="hostID">תז/מא:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="hostID" required></td>
                    </tr>
                    <tr>
                        <td><label for="hostName">שם מלא:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="hostName" required></td>
                    </tr>
                    <tr>
                        <td><label for="hostPhone">טלפון:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="hostPhone" dir="ltr" style="text-align:right" required></td>
                    </tr>
                    <tr><td><br></td></tr>
                    <tr>
                        <td><button id="showNewRequestCloseButton" class="closeDialogButton">סגירה</button></td>
                        <td><button id="showNewRequestSubmitButton" class="submit">שלח בקשה</button></td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="dialog" id="showRequestsByHostIDDialog">
            <h2>ניהול בקשות כניסה מאושרות</h2>
            <div class="autocomplete" style="width:300px;">
                <input type="text" autocomplete="off" class="textInput" id="myRequestsByHostIDInput" placeholder="הכנס שם או מספר תעודה מזהה">
            </div>
            <table id="requestsByHostIDTable" class="table">
            </table>
            <form method="dialog" autocomplete="off">
                <button id="showRequestsByHostIDCloseButton" class="closeDialogButton">סגירה</button>
            </form>
        </div>
        <div class="dialog" id="showNewRequestByHostIDDialog">
            <h2>הוספת/עריכת בקשת כניסה</h2>
            <div>
                <table>
                    <tr>
                        <td>
                            <h4>
                                פרטי האורח:
                            </h4>
                        </td>
                    </tr>
                    <tr>
                        <td><label for="visitorIDByHostID">תז/מא:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="visitorIDByHostID" required></td>
                    </tr>
                    <tr>
                        <td><label for="visitorNameByHostID">שם מלא:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="visitorNameByHostID" required></td>
                    </tr>
                    <tr>
                        <td><label for="visitorPhoneByHostID">טלפון:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="visitorPhoneByHostID" dir="ltr" style="text-align:right" required></td>
                    </tr>
                    <tr><td><br></td></tr>
                    <tr>
                        <td>
                            <h4>
                                פרטי המארח:                                
                            </h4>
                        </td>
                    </tr>
                    <tr>
                        <td><label for="hostIDByHostID">תז/מא:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="hostIDByHostID" required></td>
                    </tr>
                    <tr>
                        <td><label for="hostNameByHostID">שם מלא:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="hostNameByHostID" required></td>
                    </tr>
                    <tr>
                        <td><label for="hostPhoneByHostID">טלפון:</label></td>
                        <td><input type="text" autocomplete="off" class="textInput" id="hostPhoneByHostID" dir="ltr" style="text-align:right" required></td>
                    </tr>
                    <tr><td><br></td></tr>
                    <tr>
                        <td><button id="showNewRequestByHostIDCloseButton" class="closeDialogButton">סגירה</button></td>
                        <td><button id="showNewRequestByHostIDSubmitButton" class="submit">שלח בקשה</button></td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="dialog" id="showRequestsByVisitorIDDialog">
            <h2>ניהול בקשות כניסה מאושרות</h2>
            <div class="autocomplete" style="width:300px;">
                <input type="text" autocomplete="off" class="textInput" id="myRequestsByVisitorIDInput" placeholder="הכנס שם או מספר תעודה מזהה">
            </div>
            <table id="requestsByVisitorIDTable" class="table">
            </table>
            <form method="dialog" autocomplete="off">
                <button id="showRequestsByVisitorIDCloseButton" class="closeDialogButton">סגירה</button>
            </form>
        </div>
        <div class="dialog" id="showBlocksDialog">
            <h4>מי חסום על ידך:</h4>
            <table id="meBlockTable" class="table">
            </table>
            <br>
            <h4>מי חוסם אותך:</h4>
            <table id="blockMeTable" class="table">
            </table>
            <table id="blocksUserTable" style="position: sticky;">  
                <tr><td><br></td></tr>
                <tr>
                    <td><button id="leftNowButton">יצאתי</button></td>
                    <td><button id="updateParkingDetailsButton">עדכן שעת יציאה</button></td>
                    <td><input type="time" id="leaveTime" style="width:150%"></td>
                </tr>   
                <tr>
                    <td></td>
                    <td ><button id="showBlocksCloseButton" class="closeDialogButton">סגירה</button></td>
                    <td></td>
                </tr>               
            </table> 
        </div>
        <div class="dialog" id="showNewBlockDialog">
            <h4>פרטי חסימה:</h4>
            <div>
                <table style="table-layout: fixed; margin-left: auto; margin-right: auto; width: 25%;">
                    <tr>
                        <td style="width:50%"><label for="blockerCarNumber">מספר הרכב החוסם:</label></td>
                        <td style="width:50%"><input type="text" autocomplete="off" class="textInput" id="blockerCarNumber" required></td>
                    </tr>
                    <tr>
                        <td style="width:50%"><label for="blockedCarNumber">מספר הרכב החסום:</label></td>
                        <td style="width:50%"><input type="text" autocomplete="off" class="textInput" id="blockedCarNumber" required></td>
                    </tr>
                    <tr><td><br></td></tr>
                    <tr>
                        <td style="width:50%;"><button id="showNewBlockCloseButton" class="closeDialogButton">סגירה</button></td>
                        <td style="width:50%;"><button id="showNewBlockSubmitButton" class="submit">הוסף חסימה</button></td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="dialog" id="showEntranceStatsDialog">
            <h2>סטטיסטיקות כניסות</h2>
            <h5 id="datesRangeForEntranceStats"></h5>
            <br>
            <table id="entranceStatsTable" class="table">
            </table>
            <br>
            <form method="dialog" autocomplete="off">
                <button id="showEntranceStatsCloseButton" class="closeDialogButton">סגירה</button>
            </form>
        </div>
        <div class="dialog" id="showVisitorStatsDialog">
            <h2>סטטיסטיקת אורחים</h2>
            <h5 id="datesRangeForVisitorStats"></h5>
            <br>
            <div class="autocomplete" style="width:300px;">
                <input type="text" autocomplete="off" class="textInput" id="myVisitorStatsInput" placeholder="הכנס שם או מספר תעודה מזהה">
            </div>
            <table id="visitorStatsTable" class="table">
            </table>
            <br>
            <form method="dialog" autocomplete="off">
                <button id="showVisitorStatsCloseButton" class="closeDialogButton">סגירה</button>
            </form>
        </div>
        <div class="dialog" id="showVisitorStatsByHostIDDialog">
            <h2>סטטיסטיקת אורחים</h2>
            <h5 id="datesRangeForVisitorStatsByHostID"></h5>
            <br>
            <div class="autocomplete" style="width:300px;">
                <input type="text" autocomplete="off" class="textInput" id="myVisitorStatsByHostIDInput" placeholder="הכנס שם או מספר תעודה מזהה">
            </div>
            <table id="visitorStatsByHostIDTable" class="table">
            </table>
            <br>
            <form method="dialog" autocomplete="off">
                <button id="showVisitorStatsByHostIDCloseButton" class="closeDialogButton">סגירה</button>
            </form>
        </div>
        <div class="dialog" id="showHostStatsDialog">
            <h2>סטטיסטיקת אורחים</h2>
            <h5 id="datesRangeForHostStats"></h5>
            <br>
            <div class="autocomplete" style="width:300px;">
                <input type="text" autocomplete="off" class="textInput" id="myHostStatsInput" placeholder="הכנס שם או מספר תעודה מזהה">
            </div>
            <table id="hostStatsTable" class="table">
            </table>
            <br>
            <form method="dialog" autocomplete="off">
                <button id="showHostStatsCloseButton" class="closeDialogButton">סגירה</button>
            </form>
        </div>
    </div>
</body>
<script src="bundle.js"></script>
</html>